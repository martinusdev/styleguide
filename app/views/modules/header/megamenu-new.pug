include ./../../mixins/icon

-
  const categoriesKnihy = [{
    title: 'Beletria',
    icon: 'fa-book',
    entries: ['Detektívky, thrillery a horory', 'Sci-fi, fantasy a komiksy', 'Romantické a erotické', 'Spoločenské', 'Klasická literatúra', 'Slovenská próza', 'Historické', 'Romány'],
  }, {
    title: 'Náučná a odborná',
    icon: 'fa-lightbulb',
    entries: ['Motivácia a sebarozvoj', 'Manažment a biznis', 'Spoločnosť', 'História', 'Životopisy a myšlienky', 'Zdravie a životný štýl', 'Hobby', 'Encyklopédie'],
    hideEntries: true,
  }, {
    title: 'Pre deti',
    icon: 'fa-smile',
    entries: ['Pre najmenších', 'Pre prvákov', 'Pre pubertiakov', 'Beletria', 'Rozprávky', 'Sci-fi, fantasy a komiksy', 'Leporelá', 'Náučné knihy'],
    hideEntries: true,
  }, {
    title: 'Životopisy a myšlienky',
    icon: 'fa-head-side-brain',
  }, {
    title: 'Kuchárky',
    icon: 'fa-hat-chef',
  }, {
    title: 'Učebnice a slovníky',
    icon: 'fa-graduation-cap',
  }, {
    title: 'Náboženstvo a ezoterika',
    icon: 'fa-hands-heart',
  }, {
    title: 'Mapy a cestovanie',
    icon: 'fa-map-marked',
  }, {
    title: 'Cudzojazyčná literatúra',
    icon: 'fa-flag',
  }];

  const categoriesDoplnky = [{
    title: 'Doplnky a darčeky',
    icon: 'fa-gift',
  }, {
    title: 'Vecičky od Martinusu',
    icon: 'martinus',
  }, {
    title: 'Káva, čaj a pochutiny',
    icon: 'fa-mug-hot',
  }, {
    title: 'Hrnčeky a fľaše',
    icon: 'fa-coffee-togo',
  }, {
    title: 'Papierníctvo',
    icon: 'fa-pencil-paintbrush',
  }, {
    title: 'Zápisníky a kalendáre',
    icon: 'fa-calendar',
  }, {
    title: 'Hudba',
    icon: 'fa-music',
  }, {
    title: 'LP platne',
    icon: 'fa-record-vinyl',
  }];

  const megaMenu = [
    {
      title: 'Knihy',
      id: 'knihy',
      mainLinkTitle: 'Zobraziť všetky knihy',
      categories: categoriesKnihy,
      recommended: [{
        title: 'Top autori',
        entries: ['Dominik Dán', 'Jo Nesbo', 'Juraj Červenák', 'Andrzej Sapkowski', 'J. K. Rowlingová', 'Sarah J. Maas', 'Jørn Lier Horst', 'Louisa May Alcott']
      }, {
        title: 'Top série',
        entries: ['Harry Potter', 'Zaklínač', 'Hunger Games', 'Pán prsteňov', 'Neapolská sága', 'Kapitán Stein a notár Barbarič', 'Harry Hole'],
      }],
      additionalLinks: [{
        title: 'Bestsellery',
      }, {
        title: 'Akcie a zľavy',
      }, {
        title: 'Novinky',
      }, {
        title: 'Pripravujeme',
      },]
    }, {
      title: 'Doplnky',
      id: 'doplnky',
      mainLinkTitle: 'Zobraziť všetky doplnky',
      categories: categoriesDoplnky,
    },
  ]

mixin megaMenuContentTest(props = {})
  -
    const {
      id,
      title,
      mainLinkTitle,
      additionalLinks,
      recommended,
      categories,
    } = props;

  .mega-menu__content(data-mega-menu-target, id=`mega-menu-${id}`)
    .mega-menu__content-wrap
      if additionalLinks
        .mega-menu__recommended
          ul.list--expanded.no-pad
            each link in additionalLinks
              li
                a.block.link--black(href='#')
                  if link.icon
                    +icon(link.icon).icon--medium(class= link.iconColor).mr-tiny
                  =link.title
      .mega-menu__categories
        .row.no-mrg-horizontal
          each category in categories
            .col.col--l-4.col--m-3.col--12.col--category
              .flex
                .pt-tiny.mt-small.mr-tiny.mega-menu__categories__icon
                  if category.icon.startsWith('fa-')
                    i.text-color-theme.fa-fw.fal(class= category.icon)
                  else
                    +icon(category.icon).icon--large.text-color-theme
                div.flex-1
                  a(href="#").block.pt-medium.pb-medium.link.link--black.mega-menu__categories__title.mb-none
                    h3.mb-none=category.title
                  if category.entries
                    ul.mega-menu__categories__subcategories.pl-none.text-medium(class=category.hideEntries?'show-m':'')
                      each item in category.entries
                        li.mb-none
                          a.pt-tiny.pb-tiny.block.link.link--black(href='#')= item
                      li
                        a.block.mt-tiny.link--grey(href='#')
                          | + Ďalšie kategórie
        if recommended
          .row.no-mrg-horizontal.mt-medium-l
            each group in recommended
              .col.col--l-6.mt-medium
                .block.mb-tiny.text-transform-upper.text-size-small.text-nospace= group.title
                ul.list-inline.list-inline--bulleted.text-size-small.no-pad.mb-medium
                  each item in group.entries
                    li
                      a.link--black(href='#')= item


.header__mega-menu.mega-menu.mega-menu--new(data-mega-menu-test)
  .mega-menu__contents(data-mega-menu-contents)
    div.text-color-white.mega-menu__mobile-navigation.btn-layout.btn-layout--horizontal.no-mrg-bottom.hide-l.overflow-scroll-x
      each item in mainNav
        .btn-dropdown.btn-dropdown--no-icon.no-mrg
          if item.trigger
            a.btn(
              data-mega-menu-test-trigger=`#${item.trigger}`,
              data-toggle="self",
              aria-haspopup="true",
              id=`toggle-${item.trigger}`
            )= item.title
          else
            a.btn(href=item.link)= item.title
    each item in megaMenu
      +megaMenuContentTest(item)
