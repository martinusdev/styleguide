-
  var swiperConfig = {
    nextButton: '.carousel__btn--next',
    prevButton: '.carousel__btn--prev',
    slidesPerView: 'auto',
    slidesPerGroup: 1,
    spaceBetween: 0,
    centeredSlides: true,
    loop: true,
    speed: 0
  };

  swiperConfig = JSON.stringify(swiperConfig);
.carousel.carousel--fan
  .swiper-container(data-swiper-options=swiperConfig)
    .swiper-wrapper
      each item, i in [...books, ...books, ...books, ...books]
        a.swiper-slide(href=`${assetsPrefix}detail-knihy${htmlPostfix}`).carousel__book
          .product.mb-medium
            .product__cover.thumbnail.thumbnail--book.thumbnail--clickable.thumbnail--large
              .product__image-container
                img.no-mrg(src=`${assetsPrefix}${item.cover}`).img
            .product__rating
              if item.discount
                .badge.badge--primary= item.discount
              else
                .badge
                  +icon('star').text-color-yellow.icon--small
                  | #{' '}
                  = item.rating
          div(data-swipper-extra-content-source).visually-hidden
            h3.text-center.text-color-black.text-semibold.text-ellipsis.no-mrg= item.title
            ul.list-inline.list-inline--delimited.text-center.text-medium.text-ellipsis
              - var authors = item.author.split(', ')
              each author in authors
                li= author

    div(data-swipper-extra-content-target)

    button.btn.btn--carousel.btn--large.btn--equal.carousel__btn.carousel__btn--prev
      +icon('arrow-left').icon--medium
    button.btn.btn--carousel.btn--large.btn--equal.carousel__btn.carousel__btn--next
      +icon('arrow-right').icon--medium
