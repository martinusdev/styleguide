extends layouts/_default

include ./mixins/addTo
include ./mixins/icon
include ./mixins/xmas

block opts
    - var pageTitle = 'Kosik'
    - const pageClass = 'bg-secondary';

block content

  main.bg-secondary
    section.section
      .wrapper-main
        .row
          .col--l-8.ofst--center.card.px-none
            .card__content.mb-medium
              .d-flex.align-items-center.mb-none
                h2.mb-none.mr-small Váš košík
                .pill.pill--blue 4

              ul.list.list--cart.list--unstyled
                each item, i in books
                  li.list__item(id=`cart-item${i}` data-toggle-class="is-hidden")
                    .cart-item
                      .cart-item__thumbnail.mr-small
                        a.thumbnail.thumbnail--book.thumbnail--medium.thumbnail--clickable(href="detail-knihy.html")
                          .thumbnail__img-wrap
                            img.img(src=`${assetsPrefix}${item.cover}`)
                      .cart-item__content
                        .cart-item__info
                          a.text-semibold.mb-tiny.d-block.link.link--product.text-medium.line-medium(href="detail-knihy.html")
                            +xmas({type: 'icon'}).mr-tiny
                            =item.title
                          ul.list-inline.list-inline--delimited.text-color-grey.text-size-small.mb-none
                            - var authors = item.author.split(', ')
                            each author in authors
                              li.m-none= author
                          if (item.ebook || item.preorder)
                            .badges.mb-none.mt-tiny
                              if (item.ebook)
                                .badge.text-nowrap E-kniha
                              if (item.preorder)
                                .badge.badge--orange.text-nowrap Predpredaj
                        .cart-item__actions
                          .form-control.form-control--input.m-none.mr-small
                            .input-addons.input-addons--small.justify-content-end
                              .input-addons__item.p-none
                                button(type="button" data-number-spinner="decrease" data-controls=`#product-${i}-qty`).btn.btn--small.btn--clean.btn--equal
                                  +icon('minus', 'icon--medium', 'mínus')
                              input(type="number" id=`product-${i}-qty` min="0" max="100" step="1" value="1").input.input--small.input--short.px-none.text-center
                              .input-addons__item.p-none
                                button(type="button" data-number-spinner="increase" data-controls=`#product-${i}-qty`).btn.btn--small.btn--clean.btn--equal
                                  +icon('plus', 'icon--medium', 'plus')
                          button.btn.btn--clean.m-none(type="button" data-toggle=`#cart-item${i}`)
                            +faIcon('trash-xmark').fa-xl
                          +addTo({text: '', link: false, status: false}).mb-none
                      .cart-item__price.text-semibold.text-size-medium.text-nowrap= item.price
                li.list__item.align-items-end.pb-none
                  .list__item__section.list__item__section--primary.text-right
                    span.h3.text-normal Spolu
                  .list__item__section.list__item__section--secondary
                    span.h2.text-bold 21,45 €
            .card_footer
              .col.text-right
                a(href="/homepage.html").btn.btn--primary.btn--large Pristúpiť k objednávke
