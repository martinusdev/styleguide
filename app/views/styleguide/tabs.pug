extends templates/layout

//- Options
block prepend opts
  - var page = helpers.getPageIds('components.tabs', l_sitemap);
  - var categoryID = page.category;
  - var pageID = page.page;

//- Content
block prepend content

  +main-info(['app/styles/modules/_tabs.scss'], contents)

    +p-big Documentation for tab components.

  //- end: main info

//- Content
block append content

  //- TABS
  +content-section(contents[0])

    +p Tabs are created using a main wrapper element <code class='l-code-inline'>.tabs</code>, and <code class='l-code-inline'>.tab</code> tabs themselves inside of it. Navigation is wrapped in <code class='l-code-inline'>.tab-nav</code>, navigation items are <code class='l-code-inline'>.tab-nav__item</code> and navigation links need <code class='l-code-inline'>.tab-nav__content</code> for styling and <code class='l-code-inline'>[role=tab]</code> for toggling the tabs themselves.

    +p Javascript functionality is hooked up on class <code class='l-code-inline'>[data-tabs-container]</code> which specifies container with navigation links. <code class='l-code-inline'>[data-tabs-item]</code> specify single tab item, which can be clicked.

    +note
      +p Tabs are accessible, yay! Proper aria attributes are automatically added on load.

    +demo
      +demo-example
        ul.tab-nav(data-tabs-container)
          li.tab-nav__item(data-tabs-item)
            a.tab-nav__content.tab-nav__content--link(href='#tab-1' role="tab")
              .tab-nav__content-wrap Tab 1
          li.tab-nav__item(data-tabs-item)
            a.tab-nav__content.tab-nav__content--link(href='#tab-2' role="tab")
             .tab-nav__content-wrap Tab 2
          li.tab-nav__item(data-tabs-item)
            a.tab-nav__content.tab-nav__content--link(href='#tab-3' role="tab") Tab 3
          li.tab-nav__item(data-tabs-item)
            a.tab-nav__content.tab-nav__content--link(href='/?uItem=tab-4' role="tab" tabindex="-1")
              .tab-nav__content-wrap Tab with link
          li.tab-nav__item(data-tabs-item)
            a.tab-nav__content.tab-nav__content--link.is-disabled(href='#tab-4' role="tab" tabindex="-1")
              .tab-nav__content-wrap Tab disabled

        article.tabs
          section#tab-1.tab
            p Lorem ipsum In eiusmod occaecat fugiat nulla sit aute sint Excepteur sed sit cillum laboris officia sit laborum sunt veniam id aute magna et velit aliquip elit in ut proident mollit labore.
          section#tab-2.tab
            p Lorem ipsum Ut magna id tempor id sunt aute id ad ut do reprehenderit sint in adipisicing deserunt do aliquip nulla ullamco occaecat.
          section#tab-3.tab
            p Lorem ipsum Labore ad et in in labore Ut qui voluptate adipisicing proident laborum sed deserunt amet amet occaecat do consequat sunt Excepteur sint voluptate quis ullamco in quis ut.
          section#tab-4.tab
            p Lorem ipsum Veniam qui cupidatat dolore ad nulla in dolore veniam id est cillum quis magna dolore Ut minim in culpa dolore in qui nostrud in.

      +demo-code
        :code
          <!-- tabs -->
          <ul class="tab-nav" data-tabs-container>
            <li class="tab-nav__item" data-tabs-item>
              <a class="tab-nav__content tab-nav__content--link" href="#tab-1" role="tab">Tab 1</a>
            </li>
            <li class="tab-nav__item" data-tabs-item>
              <a class="tab-nav__content tab-nav__content--link" href="#tab-2" role="tab">Tab 2</a>
            </li>
            <li class="tab-nav__item is-active" data-tabs-item>
              <a class="tab-nav__content tab-nav__content--link" href="#tab-3" role="tab">Tab 3</a>
            </li>
            <li class="tab-nav__item" data-tabs-item>
              <a class="tab-nav__content tab-nav__content--link is-disabled" href="#tab-4" tabindex="-1">Tab disabled</a>
            </li>
          </ul>

          <!-- tabs panes-->
          <article class="tabs">
            <section id="tab-1" class="tab">
            </section>
            <section id="tab-2" class="tab">
            </section>
            <section id="tab-3" class="tab">
            </section>
            <section id="tab-4" class="tab">
            </section>
          </article>
      //- end: demo

    +content-sub-section('Tabs card')

      +p Tabbed cards should have class <code class='l-code-inline'>.tab-nav--block</code> to distribute tab navigation items to full width.

      +demo
        +demo-example
          include ./../modules/card-cart
        +demo-code
          :code
            <ul class="tab-nav tab-nav--block">
              <li class="tab-nav__item">
                <a href="#web" role="tab" class="tab-nav__content tab-nav__content--card">
                  <span class="tab-nav__content-wrap">...</span>
                </a>
              </li>
              ...
            </ul>

    +content-sub-section('Tabs filter')

      +p Tabs can be styled as button group as shown on example below.

      +demo
        +demo-example
          .btn-group.btn-group--tab.btn-group--horizontal(data-tabs-container)
            a(href='#tab-filter-1', role="tab", data-tabs-item).btn.btn--tab.is-active Knihy
            a(href='#tab-filter-2', role="tab", data-tabs-item).btn.btn--tab Filmy
            a(href='#tab-filter-3', role="tab", data-tabs-item).btn.btn--tab Hry
            a(href='#tab-filter-4', role="tab", data-tabs-item).btn.btn--tab Káva a čaj

          .btn-group.btn-group--tab.btn-group--horizontal(data-tabs-container)
            a(href='#tab-filter-1', role="tab", data-tabs-item).btn.btn--tab.is-active Example 1
            a(href='#tab-filter-2', role="tab", data-tabs-item).btn.btn--tab Example 2

          article.tabs
            section#tab-filter-1.tab
              p Lorem ipsum In eiusmod occaecat fugiat nulla sit aute sint Excepteur sed sit cillum laboris officia sit laborum sunt veniam id aute magna et velit aliquip elit in ut proident mollit labore.
            section#tab-filter-2.tab
              p Lorem ipsum Ut magna id tempor id sunt aute id ad ut do reprehenderit sint in adipisicing deserunt do aliquip nulla ullamco occaecat.
            section#tab-filter-3.tab
              p Lorem ipsum Labore ad et in in labore Ut qui voluptate adipisicing proident laborum sed deserunt amet amet occaecat do consequat sunt Excepteur sint voluptate quis ullamco in quis ut.
            section#tab-filter-4.tab
              p Lorem ipsum Veniam qui cupidatat dolore ad nulla in dolore veniam id est cillum quis magna dolore Ut minim in culpa dolore in qui nostrud in.

        +demo-code
          :code
            <div class="btn-group btn-group--tab btn-group--horizontal" data-tabs-container>
              <a class="btn btn--tab" href="..." role="tab" data-tabs-item id="tab-filter-4-label">...</a>
              <a class="btn btn--tab" href="..." role="tab" data-tabs-item id="tab-filter-4-label">...</a>
              ...
            </div>


  +content-section(contents[1], true)

    +content-sub-section('Activate tab on load')

      +p To specify an opened tab on load, add <code class='l-code-inline'>.is-active</code> to both <code class='l-code-inline'>.tab-nav__item</code> and <code class='l-code-inline'>.tab</code>. Otherwise, the first tab will be activated on load.
      +p You can even pass a tabs ID into location href, to open it directly by URL and scroll to its position. Enable this behavior by adding <code class='l-code-inline'>data-tab-load</code> to the <code class='l-code-inline'>.tabs</code> container. If there is a fixed header, you can offset the scroll position by passing a number (pixels) or the fixed container query selector to <code class='l-code-inline'>data-tab-load</code>. Try it by visiting <a href="tabs.html#{assetsPrefix}#tab2-2" target="_blank">Tab 2</a>

      +demo
        +demo-example
          ul.tab-nav(data-tabs-container)
            li.tab-nav__item(data-tabs-item)
              a.tab-nav__content.tab-nav__content--link(href='#tab2-1' role="tab")
                .tab-nav__content-wrap Tab 1
            li.tab-nav__item(data-tabs-item)
              a.tab-nav__content.tab-nav__content--link(href='#tab2-2' role="tab")
                .tab-nav__content-wrap Tab 2
            li.tab-nav__item.is-active(data-tabs-item)
              a.tab-nav__content.tab-nav__content--link(href='#tab2-3' role="tab")
                .tab-nav__content-wrap Tab 3

          article.tabs(data-tab-load=".l-header-main")
            section#tab2-1.tab
              p Lorem ipsum In eiusmod occaecat fugiat nulla sit aute sint Excepteur sed sit cillum laboris officia sit laborum sunt veniam id aute magna et velit aliquip elit in ut proident mollit labore.
            section#tab2-2.tab
              p Lorem ipsum Ut magna id tempor id sunt aute id ad ut do reprehenderit sint in adipisicing deserunt do aliquip nulla ullamco occaecat.
            section#tab2-3.tab.is-active
              p Lorem ipsum Labore ad et in in labore Ut qui voluptate adipisicing proident laborum sed deserunt amet amet occaecat do consequat sunt Excepteur sint voluptate quis ullamco in quis ut.
        +demo-code
          :code
            <ul class="tab-nav" data-tabs-container>
              <li class="tab-nav__item" data-tabs-item>
                ...
              </li>
              <li class="tab-nav__item" data-tabs-item>
                ...
              </li>
              <li class="tab-nav__item is-active" data-tabs-item>
                ...
              </li>
            </ul>

            <article class="tabs" data-tab-load=".l-header-main">
              <section id="tab2-1" class="tab">
                ...
              </section>
              <section id="tab2-2" class="tab">
                ...
              </section>
              <section id="tab2-3" class="tab is-active">
                ...
              </section>
            </article>

    +content-sub-section('Toggle')

      +p Tabs are compatibble with <a href="js-toggle`${assetsPrefix}">Toggle</a>. To toggle a tab, use it's ID as the toggle target.

      +demo
        +demo-example
          ul.tab-nav(data-tabs-container)
            li.tab-nav__item(data-tabs-item)
              a.tab-nav__content.tab-nav__content--link(href='#tab3-1' role="tab")
                .tab-nav__content-wrap Tab 1
            li.tab-nav__item(data-tabs-item)
              a.tab-nav__content.tab-nav__content--link(href='#tab3-2' role="tab")
                .tab-nav__content-wrap Tab 2
            li.tab-nav__item(data-tabs-item)
              a.tab-nav__content.tab-nav__content--link(href='#tab3-3' role="tab")
                .tab-nav__content-wrap Tab 3

          article.tabs
            section#tab3-1.tab
              p Lorem ipsum In eiusmod occaecat fugiat nulla sit aute sint Excepteur sed sit cillum laboris officia sit laborum sunt veniam id aute magna et velit aliquip elit in ut proident mollit labore.
            section#tab3-2.tab
              p Lorem ipsum Ut magna id tempor id sunt aute id ad ut do reprehenderit sint in adipisicing deserunt do aliquip nulla ullamco occaecat.
            section#tab3-3.tab
              p Lorem ipsum Labore ad et in in labore Ut qui voluptate adipisicing proident laborum sed deserunt amet amet occaecat do consequat sunt Excepteur sint voluptate quis ullamco in quis ut.

          button(type="button" href="#tab3-2", data-toggle="#tab3-2").btn Toggle tab 2
        +demo-code
          :code
            <ul class="tab-nav" data-tabs-container>
              <li class="tab-nav__item" data-tabs-item>
                ...
              </li>
              <li class="tab-nav__item" data-tabs-item>
                ...
              </li>
              <li class="tab-nav__item" data-tabs-item>
                ...
              </li>
            </ul>

            <article class="tabs">
              <section id="tab3-1" class="tab">
                ...
              </section>
              <section id="tab3-2" class="tab">
                ...
              </section>
              <section id="tab3-3" class="tab">
                ...
              </section>
            </article>

            <button class="btn" type="button" href="#tab3-2" data-toggle="#tab3-2">Toggle tab 2</button>

    +content-sub-section('Dark Mode')

      .l-wrap-main(style='background-color: var(--ms-surface-primary); color: var(--ms-text-primary); padding: 2rem; border-radius: 8px;' data-theme='dark')

        +content-sub-section('Tabs Filter in Dark Mode')

        +demo&attributes({['data-theme']: 'dark'})
          +demo-example
            .btn-group.btn-group--tab.btn-group--horizontal(data-tabs-container)
              a(href='#tab-dark-1', role="tab", data-tabs-item).btn.btn--tab.is-active Knihy
              a(href='#tab-dark-2', role="tab", data-tabs-item).btn.btn--tab Filmy
              a(href='#tab-dark-3', role="tab", data-tabs-item).btn.btn--tab Hry
              a(href='#tab-dark-4', role="tab", data-tabs-item).btn.btn--tab Káva a čaj

            .btn-group.btn-group--tab.btn-group--horizontal(data-tabs-container)
              a(href='#tab-dark-1', role="tab", data-tabs-item).btn.btn--tab.is-active Example 1
              a(href='#tab-dark-2', role="tab", data-tabs-item).btn.btn--tab Example 2

            article.tabs
              section#tab-dark-1.tab
                p Lorem ipsum In eiusmod occaecat fugiat nulla sit aute sint Excepteur sed sit cillum laboris officia sit laborum sunt veniam id aute magna et velit aliquip elit in ut proident mollit labore.
              section#tab-dark-2.tab
                p Lorem ipsum Ut magna id tempor id sunt aute id ad ut do reprehenderit sint in adipisicing deserunt do aliquip nulla ullamco occaecat.

          +demo-code
            :code
              <div class="btn-group btn-group--tab btn-group--horizontal" data-tabs-container>
                <a class="btn btn--tab is-active" href="#tab-1" role="tab" data-tabs-item>Knihy</a>
                <a class="btn btn--tab" href="#tab-2" role="tab" data-tabs-item>Filmy</a>
              </div>

        +content-sub-section('Regular Tabs in Dark Mode')

        +demo&attributes({['data-theme']: 'dark'})
          +demo-example
            ul.tab-nav(data-tabs-container)
              li.tab-nav__item(data-tabs-item)
                a.tab-nav__content.tab-nav__content--link.is-active(href='#dark-tab-1' role="tab")
                  .tab-nav__content-wrap Tab 1
              li.tab-nav__item(data-tabs-item)
                a.tab-nav__content.tab-nav__content--link(href='#dark-tab-2' role="tab")
                  .tab-nav__content-wrap Tab 2
              li.tab-nav__item(data-tabs-item)
                a.tab-nav__content.tab-nav__content--link(href='#dark-tab-3' role="tab") Tab 3
              li.tab-nav__item(data-tabs-item)
                a.tab-nav__content.tab-nav__content--link.is-disabled(href='#dark-tab-4' role="tab" tabindex="-1")
                  .tab-nav__content-wrap Tab disabled

            article.tabs
              section#dark-tab-1.tab.is-active
                p Lorem ipsum In eiusmod occaecat fugiat nulla sit aute sint Excepteur sed sit cillum laboris officia sit laborum sunt veniam id aute magna et velit aliquip elit in ut proident mollit labore.
              section#dark-tab-2.tab
                p Lorem ipsum Ut magna id tempor id sunt aute id ad ut do reprehenderit sint in adipisicing deserunt do aliquip nulla ullamco occaecat.
              section#dark-tab-3.tab
                p Lorem ipsum Labore ad et in in labore Ut qui voluptate adipisicing proident laborum sed deserunt amet amet occaecat do consequat sunt Excepteur sint voluptate quis ullamco in quis ut.
              section#dark-tab-4.tab
                p Lorem ipsum Veniam qui cupidatat dolore ad nulla in dolore veniam id est cillum quis magna dolore Ut minim in culpa dolore in qui nostrud in.

          +demo-code
            :code
              <ul class="tab-nav" data-tabs-container>
                <li class="tab-nav__item" data-tabs-item>
                  <a class="tab-nav__content tab-nav__content--link is-active" href="#tab-1" role="tab">Tab 1</a>
                </li>
                <li class="tab-nav__item" data-tabs-item>
                  <a class="tab-nav__content tab-nav__content--link" href="#tab-2" role="tab">Tab 2</a>
                </li>
              </ul>

        +content-sub-section('Tabs Card in Dark Mode')
        +demo&attributes({['data-theme']: 'dark'})
          +demo-example
            ul.tab-nav.tab-nav--block.tab-nav--rounded(data-tabs-container)
              li.tab-nav__item.flex-noshrink(data-tabs-item)
                a.tab-nav__content.tab-nav__content--card.is-active(href='#dark-card-1' role="tab")
                  span.tab-nav__content-wrap
                    span.d-block.text-ellipsis Na webe
                    span.status.status--success.text-color-grey.text-normal.text-ellipsis do 3 dní
              li.tab-nav__item(data-tabs-item)
                a.tab-nav__content.tab-nav__content--card(href='#dark-card-2' role="tab")
                  span.tab-nav__content-wrap.text-nowrap
                    span.d-block.text-ellipsis Odložiť v kníhkupectve
                    span.status.status--success.text-color-grey.text-normal.text-ellipsis Bratislava, Obchodná

            .tabs
              section#dark-card-1.tab.is-active
                article.card.card--well.text-center
                  .card__content
                    .h1 12,99 €
                  .card__content
                    p.mb-small Máme na sklade, posielame ihneď.

              section#dark-card-2.tab
                article.card.card--well.text-center
                  .card__content
                    .h1 13,90 €

          +demo-code
            :code
              <ul class="tab-nav tab-nav--block tab-nav--rounded" data-tabs-container>
                <li class="tab-nav__item" data-tabs-item>
                  <a class="tab-nav__content tab-nav__content--card" href="#web" role="tab">
                    <span class="tab-nav__content-wrap">Na webe</span>
                  </a>
                </li>
              </ul>

//- end: section
