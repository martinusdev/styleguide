extends templates/layout

//- Options
block prepend opts
  - var page = helpers.getPageIds('foundations.icons', l_sitemap);
  - var categoryID = page.category;
  - var pageID = page.page;

//- Content
block prepend content

  +main-info(['app/styles/modules/_icons_images.scss'], contents)

    +p-big Documentation, preview and usage of icons and image utilities.

  //- end: main info

//- Content
block append content

  //- ICONS
  +content-section(contents[0])

    +p Here is preview of icon set used in this project. An icon can be created by using pug mixin <code class='l-code-inline'>+icon(iconName)</code>.
    +p Using just HTML, the markup is: <code class='l-code-inline'>&lt;svg class="icon"&gt;&lt;use xlink:href="#icon-iconName"&gt;&lt;/svg class="icon"&gt;</code>

    +demo
      +demo-example
        ul.l-icons
          each icon in helpers.getAppIcons()
            li.l-icons_item
              +icon(icon, 'icon--medium')
              br
              abbr(title=icon).text-color-grey= icon

      +demo-code
        :code
          <ul>
            - for (var i=0; i < getIcons().length; i++) {
              <li>
                <svg class="icon icon-add">
                  <use xlink:href="#icon-getSvgIcons()[i]"></use>
                </svg>
              </li>
            - }
          </ul>
    //- end: demo

    +content-sub-section('Sizes')

      +p There are fours icon sizes: small, medium, large and xlarge. Size for icon can be specified with class <code class='l-code-inline'>.icon--[small/medium/large/xlarge]</code> on the icon element.
      +p Our pug mixin accepts a <code class='l-code-inline'>className</code> parameter. To create a large icon, just pass the appropriate class as the second parameter <code class='l-code-inline'>+icon(iconName, 'home')</code>

      +note
        +p In case there is no class for size, icon will inherit size from parent font-size property.

      +demo
        +demo-example
          ul.l-icons
            li.l-icons_item
              +icon-sg('sg-home', 'icon--xlarge')
              br
              abbr(title=icon).text-color-grey XL
            li.l-icons_item
              +icon-sg('sg-home', 'icon--large')
              br
              abbr(title=icon).text-color-grey L
            li.l-icons_item
              +icon-sg('sg-home', 'icon--medium')
              br
              abbr(title=icon).text-color-grey M
            li.l-icons_item
              +icon-sg('sg-home', 'icon--small')
              br
              abbr(title=icon).text-color-grey S

        +demo-code
          :code
            <ul>
              <li>
                <svg class="icon icon-home icon--xlarge">
                  <use xlink:href="#icon-home"></use>
                </svg>
              </li>
              <li>
                <svg class="icon icon-home icon--large">
                  <use xlink:href="#icon-home"></use>
                </svg>
              </li>
              <li>
                <svg class="icon icon-home icon--medium">
                  <use xlink:href="#icon-home"></use>
                </svg>
              </li>
              <li>
                <svg class="icon icon-home icon--small">
                  <use xlink:href="#icon-home"></use>
                </svg>
              </li>
            </ul>
      //- end: demo

    +content-sub-section('Colors')

      +p Icons use same <a class='l-a' href=`typography${htmlPostfix}#utilities`>text color</a> priciple for colors as typography.

      +note
        +p In case there is no class for color, icon will inherit color from parent color property.

      +demo
        +demo-example
          ul.l-icons
            li.l-icons_item
              +icon-sg('sg-home', 'icon--large').text-color-theme
            li.l-icons_item
              +icon-sg('sg-home', 'icon--large').text-color-grey
            li.l-icons_item
              +icon-sg('sg-home', 'icon--large').text-color-success
            li.l-icons_item.text-color-error
              +icon-sg('sg-home', 'icon--large').text-color-error

        +demo-code
          :code
            <ul>
              <li>
                <svg class="icon icon-home text-color-theme-500">
                  <use xlink:href="#icon-home"></use>
                </svg>
              </li>
              <li>
                <svg class="icon icon-home text-color-theme-100">
                  <use xlink:href="#icon-home"></use>
                </svg>
              </li>
              <li class="text-color-semiblack">
                <svg class="icon icon-home icon--large">
                  <use xlink:href="#icon-home"></use>
                </svg>
              </li>
              <li class="text-color-error">
                <svg class="icon icon-home icon--large">
                  <use xlink:href="#icon-home"></use>
                </svg>
              </li>
            </ul>
      //- end: demo

    +content-sub-section('Accessibility')

      +p Icons have two use cases:
      ol
        li Presentational icon accompanied by text. such icon does not need to be picked up by screenreaders and should have <span class="l-code-inline">role='presentation'</span> and <span class="l-code-inline">aria-hidden='true'</span> attributes on its svg tag.
        li Content icon, that needs an accessible text alternative. A content icon might be a button that only holds an icon without any text. To make such an icon accessible, add <span class="l-code-inline">role='img'</span> and <span class="l-code-inline">aria-label='Text alternative'</span> attributes to its svg tag.
      +p Luckily, the <span class="l-code-inline">+icon()</span> pug mixin can handle both cases. Passing an accessible text alternative as an <span class="l-code-inline">alt</span> paramter, automatically generates the markup for a content icon. To create a presentational icon, just omit the paramter.

      +demo
        +demo-example
          ol
            li
              button.btn.btn--large.no-mrg
                +icon-sg('sg-check', 'icon--left', '')
                | Done
              br
              p(title=icon) I'm accompanied by button text, my purpose is purely presentational
            li
              button.btn.btn--large.no-mrg
                +icon-sg('sg-settings', '', 'Settings')
              br
              p(title=icon) I clearly represent what will happen when the button is clicked. Therefore an accessbile text alternative is appropriate.
        +demo-code
          :code
            <button class="btn btn--large">
              <svg class="icon icon-check" role="img" aria-hidden="true">
                <use xlink:href="#icon-check"></use>
              </svg>
              Done
            </button>

            <button class="btn btn--large">
              <svg class="icon icon-settings" role="presentation" aria-label="Settings">
                <use xlink:href="#icon-settings"></use>
              </svg>
            </button>
          //- end: Accessibility

  +content-section(contents[1])

    +p There are three basic image utilities: fluid, rounded and circle. Fluid utility gives image ability to change size coresponding to its parent. Circle and rounded utilities provides specific shapes for images.

    +demo
      +demo-example
        figure.l-image
          img(src=`${assetsPrefix}images/300x300.gif`, alt='placeholder').img.img--fluid
        figure.l-image
          img(src=`${assetsPrefix}images/150x150.gif`, alt='placeholder').img.img--rounded
        figure.l-image
          img(src=`${assetsPrefix}images/150x150.gif`, alt='placeholder').img.img--circle

      +demo-code
        :code
          <img src="..." class="img img--fluid">
          <img src="..." class="img img--rounded">
          <img src="..." class="img img--circle">
    //- end: demo
  //- end: section

  +content-section(contents[2])

    +p Image thumbnails are defined in three sizes <code class='l-code-inline'>small/medium/large</code> as shown on example below.

    +demo
      +demo-example
        .bar
          .bar__item
            img.img--fluid.img--circle.thumbnail.thumbnail--small(src='https://placehold.it/100x100')
          .bar__item
            img.img--fluid.img--circle.thumbnail.thumbnail--medium(src='https://placehold.it/100x100')
          .bar__item
            img.img--fluid.img--circle.thumbnail.thumbnail--large(src='https://placehold.it/100x100')

      +demo-code
        :code
          <img class="img thumbnail thumbnail--small" src="..." alt="...">
          <img class="img thumbnail thumbnail--medium" src="..." alt="...">
          <img class="img thumbnail thumbnail--large" src="..." alt="...">

  +content-section(contents[3], true)

    +demo
      +demo-example
        .book-thumbnail.book-thumbnail--medium
          img.img.no-mrg(src=`${assetsPrefix}images/content/books/sample-15.jpg`, alt="Z치klady rybolovu pro kluky a holky - Frank Weissert, Jack Thorne a John Tiffany")

      +demo-code
        :code
          <div class="book-thumbnail">
            <img class="img " src="..." alt="...">
          </div>

    +content-sub-section('Book thumbnail sizes')

      +p Book thumbnails should have specified size via classes <code class='l-code-inline'>.book-thumbnail--[small/medium]</code>.

      +demo
        +demo-example
          .bar
            .bar__item
              .book-thumbnail.book-thumbnail--medium
                img.img.no-mrg(src=`${assetsPrefix}images/content/books/sample-15.jpg`, alt="Z치klady rybolovu pro kluky a holky - Frank Weissert, Jack Thorne a John Tiffany")
            .bar__item
              .book-thumbnail.book-thumbnail--small
                img.img.no-mrg(src=`${assetsPrefix}images/content/books/sample-15.jpg`, alt="Z치klady rybolovu pro kluky a holky - Frank Weissert, Jack Thorne a John Tiffany")

        +demo-code
          :code
            <div class="book-thumbnail book-thumbnail--small">...</div>
            <div class="book-thumbnail book-thumbnail--medium">...</div>

    +content-sub-section('Book thumbnail status')

      +p Book thumbnails can embed status with <code class='l-code-inline'>.book-thumbnail__status</code>. Example with badge as discount coutdown is shown below.

      +demo
        +demo-example
          .book-thumbnail.book-thumbnail--medium
            img.img.no-mrg(src=`${assetsPrefix}images/content/books/sample-15.jpg`, alt="Z치klady rybolovu pro kluky a holky - Frank Weissert, Jack Thorne a John Tiffany")
            .book-thumbnail__status
              +discountBadge(duration)

        +demo-code
          :code
            <div class="book-thumbnail book-thumbnail--medium">
              <img class="img" src="..." alt="..." />
              <div class="book-thumbnail__status">
                ...
              </div>
            </div>
