extends templates/layout

include ./../mixins/loader
include ./../mixins/icon
include ./../mixins/faIcon

//- Options
block prepend opts
  - var page = helpers.getPageIds('components.alerts', l_sitemap);
  - var categoryID = page.category;
  - var pageID = page.page;

//- Content
block prepend content

  +main-info(['app/styles/modules/_alerts.scss'], contents)

    +p-big Documentation for alerts components.

  //- end: main info

//- Content
block append content

  //- TABS
  +content-section(contents[0], true)

    +p Alert messages provides information about some action, whether it is success, error etc. Message can be shown below header as fixed for whole page, or inlined inside content if necessary. Various examples are shown below.

    +demo
      +demo-example
        .row
          .col--m-8
            .alert
              .alert__icon
                +faIcon('check-circle').fa-xl
              .alert__content
                | Upokoj sa, všetko ide podľa plánu.#{' '}
                a.link(href="#") Viac informácií nájdete tu
                | .
              .alert__action
                button.btn.btn--clean.btn--small(data-alert-action)
                  +faIcon('xmark').fa-xl
          .col--m-4
            button.btn#alert-1 Show example

        .row
          .col--m-8
            .alert
              .alert__icon
                +faIcon('check-circle').fa-xl
              .alert__content Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla eget mauris augue. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia.
              .alert__action
                button.btn.btn--clean.btn--small(data-alert-action)
                  +faIcon('xmark').fa-xl
          .col--m-4
            button.btn#alert-2 Show example

        .row
          .col--m-8
            .alert
              .alert__content Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla eget mauris augue. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia.
              .alert__action
                button.btn.btn--clean.btn--small(data-alert-action)
                  +faIcon('xmark').fa-xl
          .col--m-4
            button.btn#alert-3 Show example

      +demo-code
        :code
          <div class="alert">
            <div class="alert__icon">...</div>
            <div class="alert__content">...</div>
            <div class="alert__action">...</div>
          </div>

          <script>
            new window.myApp.Alert({
              icon: 'check-circle',
              text: '...'
            });
          </script>

    +content-sub-section('Types')

      +p Eight types of alert are defined: <code class='l-code-inline'>info (default)/success/warning/error/light/success-light/warning-light/error-light</code>. Coresponding icon with state should be included in alert.

      +demo
        +demo-example
          .row
            .col--m-8
              .alert
                .alert__icon
                  +faIcon('check-circle').fa-xl
                .alert__content
                  | Upokoj sa, všetko ide podľa plánu.
                .alert__action
                  button.btn.btn--clean.btn--small(data-alert-action)
                    +faIcon('xmark').fa-xl
            .col--m-4
              button.btn#alert-type-1 Show example

          .row
            .col--m-8
              .alert.alert--success
                .alert__icon
                  +faIcon('check-circle').fa-xl
                .alert__content
                  span.text-semibold Úspech!
                  |  Všetko sa podarilo.#{' '}
                  a.link(href="#") Viac informácií nájdete tu
                  | .
                .alert__action
                  button.btn.btn--clean.btn--small(data-alert-action)
                    +faIcon('xmark').fa-xl
            .col--m-4
              button.btn#alert-type-2 Show example

          .row
            .col--m-8
              .alert.alert--warning
                .alert__icon
                  +faIcon('triangle-exclamation').fa-xl
                .alert__content
                  span.text-semibold Hoplá!
                  |  Skúste to znova.
                .alert__action
                  button.btn.btn--clean.btn--small(data-alert-action) Opakovať
            .col--m-4
              button.btn#alert-type-3 Show example

          .row
            .col--m-8
              .alert.alert--error
                .alert__icon
                  +faIcon('circle-exclamation').fa-xl
                .alert__content
                  | Obrázok sa nepodarilo nahrať.
                .alert__action
                  button.btn.btn--clean.btn--small(data-alert-action)
                    +faIcon('xmark').fa-xl
            .col--m-4
              button.btn#alert-type-4 Show example

          .row
            .col--m-8
              .alert.alert--light
                .alert__icon
                  +faIcon('check-circle').fa-xl
                .alert__content
                  | Upokoj sa, všetko ide podľa plánu.
                .alert__action
                  button.btn.btn--clean.btn--small(data-alert-action)
                    +faIcon('xmark').fa-xl

          .row
            .col--m-8
              .alert.alert--success-light
                .alert__icon
                  +faIcon('check-circle').fa-xl
                .alert__content
                  span.text-semibold Úspech!
                  |  Všetko sa podarilo.#{' '}
                  a.link(href="#") Viac informácií nájdete tu
                  | .
                .alert__action
                  button.btn.btn--clean.btn--small(data-alert-action)
                    +faIcon('xmark').fa-xl

          .row
            .col--m-8
              .alert.alert--warning-light
                .alert__icon
                  +faIcon('triangle-exclamation').fa-xl
                .alert__content
                  span.text-semibold Hoplá!
                  |  Skúste to znova.
                .alert__action
                  button.btn.btn--clean.btn--small(data-alert-action)
                    span Opakovať

          .row
            .col--m-8
              .alert.alert--error-light
                .alert__icon
                  +faIcon('circle-exclamation').fa-xl
                .alert__content
                  | Obrázok sa nepodarilo nahrať.
                .alert__action
                  button.btn.btn--clean.btn--small(data-alert-action)
                    +faIcon('xmark').fa-xl

        +demo-code
          :code
            <div class="alert">...</div>
            <div class="alert alert--success">...</div>
            <div class="alert alert--warning">...</div>
            <div class="alert alert--error">...</div>

            <script>
              new window.myApp.Alert({
                type: 'success',
                icon: 'check-circle',
                text: '...'
              });
            </script>

    +content-sub-section('Timeout')

      +p If timeout attribute of alert is set, alert will be destoried after given timeout.

      +demo
        +demo-example
          button.btn#alert-timeout Alert with 7s timeout

        +demo-code
          :code
            <script>
              new window.myApp.Alert({
                text: '...',
                timeout: 7000,
              });
            </script>

    +content-sub-section('Loader')

      +p Wait on content, or response should be displayed as alert loader as shown on example below.

      +demo
        +demo-example
          .row
            .col--m-8
              .alert.alert--error
                .alert__loader
                  +loader({ color: 'white' })
                .alert__content
                  | Načítavanie
            .col--m-4
              .btn-group.btn-group--horizontal
                button.btn#alert-loader-show Show loader
                button.btn#alert-loader-destroy Destroy loader

        +demo-code
          :code
            <div class="alert">
              <div class="alert__loader">...</div>
            </div>

            <script>
              new window.myApp.Alert({
                loader: true,
                text: 'Načítavanie',
                closeable: false,
              });
            </script>

    +content-sub-section('Dark Mode')

      .l-wrap-main(style='background-color: var(--ms-surface-primary); color: var(--ms-text-primary); padding: 2rem; border-radius: 8px;' data-theme='dark')

        +content-sub-section('Alert Types in Dark Mode')

          +demo&attributes({['data-theme']: 'dark'})
            +demo-example
              .row
                .col--m-8
                  .alert
                    .alert__icon
                      +faIcon('check-circle').fa-xl
                    .alert__content
                      | Default info alert
                    .alert__action
                      button.btn.btn--clean.btn--small(data-alert-action)
                        +faIcon('xmark').fa-xl

              .row
                .col--m-8
                  .alert.alert--success
                    .alert__icon
                      +faIcon('check-circle').fa-xl
                    .alert__content
                      | Success alert - operation completed successfully.
                    .alert__action
                      button.btn.btn--clean.btn--small(data-alert-action)
                        +faIcon('xmark').fa-xl

              .row
                .col--m-8
                  .alert.alert--warning
                    .alert__icon
                      +faIcon('triangle-exclamation').fa-xl
                    .alert__content
                      | Warning alert - please review this action.
                    .alert__action
                      button.btn.btn--clean.btn--small(data-alert-action)
                        +faIcon('xmark').fa-xl

              .row
                .col--m-8
                  .alert.alert--error
                    .alert__icon
                      +faIcon('circle-exclamation').fa-xl
                    .alert__content
                      | Error alert - something went wrong.
                    .alert__action
                      button.btn.btn--clean.btn--small(data-alert-action)
                        +faIcon('xmark').fa-xl

            +demo-code
              :code
                <div class="alert">...</div>
                <div class="alert alert--success">...</div>
                <div class="alert alert--warning">...</div>
                <div class="alert alert--error">...</div>

        +content-sub-section('Light Alert Variants in Dark Mode')

          +demo&attributes({['data-theme']: 'dark'})
            +demo-example
              .row
                .col--m-8
                  .alert.alert--success-light
                    .alert__icon
                      +faIcon('check-circle').fa-xl
                    .alert__content
                      span.text-semibold Success light variant
                      |  - lighter background style.
                    .alert__action
                      button.btn.btn--clean.btn--small(data-alert-action)
                        +faIcon('xmark').fa-xl

              .row
                .col--m-8
                  .alert.alert--warning-light
                    .alert__icon
                      +faIcon('triangle-exclamation').fa-xl
                    .alert__content
                      span.text-semibold Warning light variant
                      |  - lighter background style.
                    .alert__action
                      button.btn.btn--clean.btn--small(data-alert-action)
                        +faIcon('xmark').fa-xl

              .row
                .col--m-8
                  .alert.alert--error-light
                    .alert__icon
                      +faIcon('circle-exclamation').fa-xl
                    .alert__content
                      span.text-semibold Error light variant
                      |  - lighter background style.
                    .alert__action
                      button.btn.btn--clean.btn--small(data-alert-action)
                        +faIcon('xmark').fa-xl

            +demo-code
              :code
                <div class="alert alert--success-light">...</div>
                <div class="alert alert--warning-light">...</div>
                <div class="alert alert--error-light">...</div>

//- end: section

block append scripts
  script.
    document.getElementById('alert-1').addEventListener('click', function() {
      new window.myApp.Alert({
        icon: 'check-circle',
        text: 'Upokoj sa, všetko ide podľa plánu. <a class="link" href="#">Viac informácií nájdete tu</a>.'
      });
    });

    document.getElementById('alert-2').addEventListener('click', function() {
      new window.myApp.Alert({
        icon: 'check-circle',
        text: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla eget mauris augue. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia.'
      });
    });

    document.getElementById('alert-3').addEventListener('click', function() {
      new window.myApp.Alert({
        text: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla eget mauris augue. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia.'
      });
    });

    document.getElementById('alert-type-1').addEventListener('click', function() {
      new window.myApp.Alert({
        icon: 'check-circle',
        text: 'Upokoj sa, všetko ide podľa plánu.'
      });
    });

    document.getElementById('alert-type-2').addEventListener('click', function() {
      new window.myApp.Alert({
        type: 'success',
        icon: 'check-circle',
        text: 'Upokoj sa, všetko ide podľa plánu. <a class="link" href="#">Viac informácií nájdete tu</a>.'
      });
    });

    document.getElementById('alert-type-3').addEventListener('click', function() {
      var alertCustomAction = new window.myApp.Alert({
        type: 'warning',
        icon: 'triangle-exclamation',
        text: '<span class="text-semibold">Hoplá!</span> Skúste to znova.',
        customActionTemplate: '<button class="btn btn--clean btn--small" data-alert-action=""><span class="text-color-white">Opakovať</span></button>',
        onAction: function() {
          console.log('custom action callback');
          alertCustomAction.destroy();
        }
      });
    });

    document.getElementById('alert-type-4').addEventListener('click', function() {
      new window.myApp.Alert({
        type: 'error',
        icon: 'circle-exclamation',
        text: 'Obrázok sa nepodarilo nahrať',
      });
    });

    document.getElementById('alert-timeout').addEventListener('click', function() {
      new window.myApp.Alert({
        icon: 'check-circle',
        text: 'Upokoj sa, všetko ide podľa plánu. <a class="link" href="#">Viac informácií nájdete tu</a>.',
        timeout: 7000
      });
    });

    var loaderAlert;

    document.getElementById('alert-loader-show').addEventListener('click', function() {
      loaderAlert = new window.myApp.Alert({
        loader: true,
        text: 'Načítavanie',
        closeable: false,
      });
    });

    document.getElementById('alert-loader-destroy').addEventListener('click', function() {
      if (loaderAlert) {
        loaderAlert.destroy();
      }
    });
