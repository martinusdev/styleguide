// ---------------------------------------------
// CARDS
// ---------------------------------------------

// CONTENTS
// Card
// Card header
// Card footer

// ----------------------------
// CARD

@mixin card($card: $card) {
  $border-radius: map-get($card, 'border-radius');
  display: flex;
  flex-flow: column;
  margin-bottom: $content-spacing;

  @include css-map($card);

  > * + * {
    border-top: map-get($card, 'border');
  }

  > * {
    &:first-child {
      border-top-left-radius: $border-radius;
      border-top-right-radius: $border-radius;
    }

    &:last-child {
      border-bottom-left-radius: $border-radius;
      border-bottom-right-radius: $border-radius;
    }
  }
}

@mixin card-section(
  $card-section: $card-section,
  $grow: 0,
  $shrink: 0
) {
  flex: $grow $shrink auto;

  @each $breakpoint, $props in _get-breakpoint-map($card-section) {
    @include breakpoint($breakpoint) {
      @include css-map($props);
    }
  }

  > *:last-child {
    margin-bottom: 0;
  }
}

@mixin card-classes {
  .card {
    @include card;

    &__header {
      @include card-section;
      @include css-map($card-header);
      @include bar;
    }

    &__header__title {
      @include bar-content;
    }

    &__header__action {
      @include bar-item;
    }

    &__content {
      @include card-section($grow: 1);
    }

    &__footer {
      @include card-section;
    }
  }
}

@include card-classes;
